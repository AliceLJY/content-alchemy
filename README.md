# Content Alchemy Skill

🚀 **新手必看**: [安装指南](./SETUP.md) | [新手指南](./BEGINNER-GUIDE.md) | [微信发布](./WECHAT-PUBLISH.md)
📚 **深入了解**: [技术文档](./SKILL.md) | [项目结构](./PROJECT-STRUCTURE.md)

A **7-stage** universal knowledge workflow for AI Agents. 从智能选题到内容分发的端到端闭环生产力工具。

---

## 💡 为什么这个项目不一样

> 这不是"又一个模板"，而是**踩了无数坑后沉淀下来的经验**。

**v3.2 迭代亮点（给真正要用的你）：**

| 你可能遇到的问题 | 我已经帮你解决了 |
|----------------|-----------------|
| 🤔 "装了半天跑不起来" | 完整的 `doctor.sh` 环境检测，一键排查缺什么 |
| 🤔 "AI 写的文章一股塑料味" | 七大去 AI 味原则 + Humanizer-ZH 检查清单 |
| 🤔 "不知道去哪找素材" | 按话题类型的搜索策略（技术/产品/社会观察各有路径） |
| 🤔 "AI 瞎编数据怎么办" | Source Truth Table 强制标注来源，杜绝幻觉 |
| 🤔 "这是你的风格，我怎么用" | 明确区分了**通用框架** vs **个人示例**，直接改就行 |
| 🤔 "Baoyu 装在哪？怎么装？" | 全局/本地两种安装方式 + 常见问题 FAQ |
| 🤔 "YouTube 视频怎么提取字幕" | yt-dlp + NotebookLM 两种方案，按需选择 |

**设计原则：**
- 📖 **新手友好**：不假设你懂任何技术背景，每一步都有验证方法
- 🔧 **可定制**：写作风格是示例，搜索策略是通用，拿去直接改
- 🛡️ **防幻觉**：不是让 AI 自由发挥，而是强制它标注来源
- ⚡ **实战验证**：每个"设计决策"背后都有真实的踩坑故事

---

### 🤝 人机协作：90/10 黄金比例

本项目追求"极速交付，人工把关"：
- **AI (90%)**: 选题、采集、分析、素材核查、撰写、配图、**自动发布草稿**
- **HUMAN (10%)**:
  1. 素材确认：审核 Source Truth Table，确保引用真实
  2. 草稿微调：在微信中进行审美把关（封面、排版）
  3. 模块化启动：可从任何阶段切入，AI 自动补完剩余流程

> **核心逻辑**：AI 负责繁琐的数字化工作，人负责真实性确认与审美决策。

### 📮 微信公众号自动发布

**新功能上线**！现在可以一键发布文章到微信公众号：

```bash
# 3 步搞定
1. 启动 Chrome 调试模式
2. 准备文章和图片
3. 运行发布脚本

# 详细教程
查看 WECHAT-PUBLISH.md
```

**特点**:
- ✅ 自动填写标题
- ✅ 自动粘贴内容（保持格式）
- ✅ 自动插入所有图片
- ✅ 自动保存草稿
- ✅ 完全模拟真人操作，安全合规
- ✅ 本地运行，不经过第三方服务器

**节省时间**: 从 13 分钟 → 3.5 分钟（70% 效率提升）

> 💡 详细使用说明请查看 [WECHAT-PUBLISH.md](./WECHAT-PUBLISH.md)

## 📝 致谢与版权声明

本项目的核心逻辑是基于开源社区多位开发者贡献的优秀 Skill 和提示词思路进行的二次编排与场景化串联。特此感谢以下项目的原始作者：

*   **微信发布流程**:
    *   **Skill**: `baoyu-post-to-wechat`
    *   **Author**: **Baoyu (宝玉)** — 感谢提供了微信公众号 CDP 自动化操作的核心代码与 DOM 选择器逻辑

*   **图像提示词推荐**:
    *   **Skill**: nano-banana-pro-prompts-recommend-skill
    *   **Author**: **YouMind-OpenLab** — 感谢提供了高质量的 Prompt 库与推荐算法

*   **思维链提示词**:
    *   **Prompt**: 链式指令 (Chained Instructions)
    *   **Author**: **Lynne Liu**
    *   **Source**: [YouMind Shortcut](https://youmind.com/zh-CN/shortcuts/P5cdEZdDzG51jA) — 感谢提供了"Mining -> Refining -> Building"这一核心内容炼金术的 Prompt 结构灵感

*   **版权声明**：本项目所调用的基础工具版权归原作者所有。我（AliceLJY）仅根据个人实际业务需求，将这些原子化的功能进行了串联、重构与场景化适配，旨在提供一种多 Skill 协同工作的思路。

*   **致敬**：感谢所有为 AI 生态贡献智力资产的先行者，是你们的开源精神让"提词即生产"成为可能。


## ⚙️ 设计路径

本仓库的主要目的是提供一种**"多 Skill 协同作战"**的思路：
1.  **端到端闭环**：通过 7 阶段炼金术，实现从灵感采集到草稿保存的完整生产链
2.  **智能增量更新**：能自动识别并更新现有草稿，避免重复发文，保持创作流的一致性
3.  **自进化架构**：固化 7 阶段自动化架构，实现从"寻找灵感"到"数字资产分发"的完整闭环

## 🧠 设计决策

本章节解释一些"看起来奇怪"的设计背后的深层原因。

### 1. 为什么YouTube优先于Bilibili？

**误解：** "因为B站被墙"  
**真相：** "因为数据可得性"

- B站：UP主可能不开字幕，API提取困难
- YouTube：自动生成字幕，`yt-dlp`轻松获取

**实际案例：**
某次搜索到B站视频讨论AI算力，但视频没有字幕/转录文本。同名搜索YouTube发现有搬运视频，秒获完整文本。这不是绕过审查，而是优先选择**数据获取最简单的路径**。

---

### 2. 为什么Chrome必须用调试端口启动？

**误解：** "这是可选的技术细节"  
**真相：** "这是防止API限流的生死线"

**踩坑经历：**
1. 第一次测试成功 → 以为是Baoyu脚本自动搞定
2. 出现429错误 → 发现根本没走CDP，是API调用被限流
3. 单独跑Baoyu → 浏览器没动，但显示"已完成" → 假成功

**根本原因：**
Baoyu脚本有两种模式：
- **CDP模式（需要9222）：** 真实浏览器操作，稳定
- **API模式（不需要端口）：** 直接调微信接口，易被拒绝

不开9222端口 → 脚本降级到API模式 → 显示"Done"但无草稿。

---

### 3. 为什么封面图要手动设置？

**误解：** "可以全自动化"  
**真相：** "中途操作风险极高"

**测试结果：**
- 尝试自动点击"编辑"按钮 → 卡住
- 原因1：按钮只在hover时显示，坐标容易失效
- 原因2：复制内容会跳转到Antigravity对话框
- 原因3：复制位置错位

**最佳实践：**
1. 自动化只做到"保存草稿"
2. 用户打开草稿 → 选择第一张图作为封面
3. 审查格式 → 手动点击"发送"

这不是"降级方案"，而是**唯一稳定的方案**。

---

### 4. 为什么需要Source Truth Table？

**误解：** "这是技术文档"  
**真相：** "这是反AI幻觉的最后防线"

**早期版本问题：**
AI只拿到视频标题+简介+评论 → 基于这些"二手信息"编故事。

**改进后：**
强制AI标注每个论断的来源：
- ✅ 视频12:34处提到 → 可信
- ⚠️ 评论区推测 → 改为"据XX称"
- ❌ 找不到来源 → AI在编，删掉

**人的作用：**
判断这个来源是否足够权威。AI无法判断信源可信度，只有人能做这个决策。

---

## 🛠️ 模块化指令与灵活性

本 Skill 支持**任意阶段启动**。你不必每次都从第一步开始，可以根据需求灵活组合：

- **模块化闭环运行**：
  `alchemy "你的话题/灵感"` (执行 Stage 1-7，享受无缝衔接的生产流)
- **直接从现有文档生成文章并发布**：
  `alchemy --start-at stage-5 --input "./你的初稿.md"` (直接执行写作、配图与分发)
- **爆款改写指令示例**：
  > "跳过采矿，以这份[复盘总结]为输入，从 Stage 5 开始：将其改写为一篇爆款公众号推文，配图并自动发布草稿。"
- **纯分发模式**：
  `publish "文章标题"` (仅执行 Stage 6 智能同步)

## 🚀 持续进化与反馈

**本项目正处于活跃更新中！** 
欢迎大家试用并提出宝贵意见（通过 Issue 或 PR）。你的每一个反馈都可能成为下次系统进化的输入。

## 🌐 多 IDE 兼容性

虽然本项目的深度优化是在 **Antigravity** 环境下完成的，但其核心逻辑（SKILL.md）采用了通用的 **Open-Skill** 指令规范设计，具有极强的通用性：

- **Antigravity**: ⭐ **完全兼容** - 包括自动生图功能（Stage 5）
- **Claude Code**: ✅ 兼容 - 但需手动配图（无`generate_image`工具）
- **Cursor / Windsurf**: ✅ 兼容 - 需手动配图
- **其他 Agentic IDEs**: 视工具集而定

### ⚠️ 重要差异说明

| 功能 | Antigravity | 其他 IDE |
|------|-------------|----------|
| 素材采集 | ✅ 自动 | ✅ 自动 |
| 深度分析 | ✅ 自动 | ✅ 自动 |
| 文章撰写 | ✅ 自动 | ✅ 自动 |
| **配图生成** | ✅ **AI自动生成** | ⚠️ **需手动准备** |
| 微信发布 | ✅ 自动 | ✅ 自动 |

**如果使用非Antigravity环境**：
- 请在Stage 5跳过自动生图，改为：
  1. 使用Midjourney/DALL-E等外部工具生成图片
  2. 保存图片到项目目录（如`./images/cover.png`）
  3. 在Markdown中手动引用：`![封面](./images/cover.png)`

### 💻 官方验证环境

本项目已在以下配置中通过完整测试（Stable）：

- **Hardware**: MacBook Air (13-inch, M4, 2025) / 16GB RAM / Apple M4 Chip
- **System**: macOS Tahoe (26.3 Beta)
- **Environment**: Antigravity IDE (Native Support)

## 🤖 AI 协作声明

本项目由多个 AI Agent 与用户协作完成：

| 版本 | 主要贡献者 | 角色 |
|------|-----------|------|
| v2.0-2.5 | **Antigravity** | 项目初始化、7 阶段工作流设计、微信集成 |
| v3.1-3.2 | **Claude Code (Opus 4.5)** | Bug 修复、Fallback 机制、NotebookLM 测试、文档重构 |

> 详细更新历史请查看 [CHANGELOG.md](./CHANGELOG.md)

## 📲 关注公众号

欢迎关注我的公众号，获取更多 AI 踩坑经历！

<img src="./assets/wechat_qr.jpg" width="200" alt="WeChat QR Code">

---
*v2.0-2.5 by Antigravity | v3.1-3.2 by Claude Code (Opus 4.5)*
